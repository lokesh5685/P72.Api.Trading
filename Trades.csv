
 
TradeID		AccountID		InstrumentID		TradeType		Quantity		Price		Commission		TradeDate
1			1				1					Buy				100				100			20				DateTime.Now
2			1				2					Buy				100				100			20				DateTime.Now
3			2				3					Buy				100				200			20				DateTime.Now
4			2				4					Buy				100				100			20				DateTime.Now
5			1				1					Buy				100				120			20				DateTime.Now
6			1				2					Buy				100				180			20				DateTime.Now

7			1				1					Sell			50				150			20				DateTime.Now
8			1				2					Sell			50				220			20				DateTime.Now

Position After(Buy)
AccountID		InstrumentID	TotalShare			AverageCost
1				1				200					110
1				2				200					190

Position After (Sell)

1				1				150					110
1				2				150					190

Realized P/L
AccountID		InstrumentID	P/L
1				1				50*(150-110) = 2000
1				2				50*(220-190) = 1000



